{"ast":null,"code":"import { gql } from 'apollo-angular';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"apollo-angular\";\nimport * as i3 from \"@angular/common\";\n\nfunction ListingComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3)(4, \"h5\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h6\", 5);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h6\", 5);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"h6\", 5);\n    i0.ɵɵtext(12, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 5);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"h6\", 5);\n    i0.ɵɵtext(17, \"Owner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\", 5);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 5);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const listing_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"listing/\", listing_r1.listing_id, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r1.listing_title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", listing_r1.description, \"/night\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", listing_r1.price, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate3(\"\", listing_r1.street, \", \", listing_r1.city, \", \", listing_r1.postal_code, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Owner contact info: \", listing_r1.user.username, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Owner contact info: \", listing_r1.user.email, \"\");\n  }\n}\n\nexport class ListingComponent {\n  constructor(router, apollo, route) {\n    this.router = router;\n    this.apollo = apollo;\n    this.route = route;\n  }\n\n  ngOnInit() {\n    this.id = this.route.params.pipe(map(params => params['id']));\n    this.listings = this.apollo.watchQuery({\n      query: gql`\n            {\n              listing (listing_id) {\n                listing_id\n                listing_title\n                description\n                city\n                street\n                postal_code\n                price\n                user{\n                  user_id\n                  email\n                  username\n                }\n              }\n            }\n          `,\n      variables: {\n        listing_id: this.id\n      }\n    }).valueChanges.pipe(map(result => result.data.listings));\n  }\n\n}\n\nListingComponent.ɵfac = function ListingComponent_Factory(t) {\n  return new (t || ListingComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Apollo), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n\nListingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListingComponent,\n  selectors: [[\"app-listing\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [1, \"card\", 2, \"width\", \"100%\", \"margin-top\", \"10px\"], [1, \"card-body\"], [1, \"card-link\", 3, \"href\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"]],\n  template: function ListingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ListingComponent_div_0_Template, 22, 9, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(1, 1, ctx.listings));\n    }\n  },\n  directives: [i3.NgForOf],\n  pipes: [i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0aW5nLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Egglanoir/101168113_comp3133_assig2/angular-apollo/src/app/listing/listing.component.ts"],"names":["gql","map","i0","i1","i2","i3","ListingComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","listing_r1","$implicit","ɵɵadvance","ɵɵpropertyInterpolate1","listing_id","ɵɵsanitizeUrl","ɵɵtextInterpolate","listing_title","ɵɵtextInterpolate1","description","price","ɵɵtextInterpolate3","street","city","postal_code","user","username","email","ListingComponent","constructor","router","apollo","route","ngOnInit","id","params","pipe","listings","watchQuery","query","variables","valueChanges","result","data","ɵfac","ListingComponent_Factory","t","ɵɵdirectiveInject","Router","Apollo","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ListingComponent_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","directives","NgForOf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { gql } from 'apollo-angular';\r\nimport { map } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"apollo-angular\";\r\nimport * as i3 from \"@angular/common\";\r\nfunction ListingComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3)(4, \"h5\", 4);\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"h6\", 5);\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"h6\", 5);\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(10, \"br\");\r\n    i0.ɵɵelementStart(11, \"h6\", 5);\r\n    i0.ɵɵtext(12, \"Location\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"p\", 5);\r\n    i0.ɵɵtext(14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(15, \"br\");\r\n    i0.ɵɵelementStart(16, \"h6\", 5);\r\n    i0.ɵɵtext(17, \"Owner\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(18, \"p\", 5);\r\n    i0.ɵɵtext(19);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(20, \"p\", 5);\r\n    i0.ɵɵtext(21);\r\n    i0.ɵɵelementEnd()()()()();\r\n} if (rf & 2) {\r\n    const listing_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate1(\"href\", \"listing/\", listing_r1.listing_id, \"\", i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(listing_r1.listing_title);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"$\", listing_r1.description, \"/night\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"$\", listing_r1.price, \"\");\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate3(\"\", listing_r1.street, \", \", listing_r1.city, \", \", listing_r1.postal_code, \"\");\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\"Owner contact info: \", listing_r1.user.username, \"\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"Owner contact info: \", listing_r1.user.email, \"\");\r\n} }\r\nexport class ListingComponent {\r\n    constructor(router, apollo, route) {\r\n        this.router = router;\r\n        this.apollo = apollo;\r\n        this.route = route;\r\n    }\r\n    ngOnInit() {\r\n        this.id = this.route.params.pipe(map(params => params['id']));\r\n        this.listings = this.apollo.watchQuery({\r\n            query: gql `\n            {\n              listing (listing_id) {\n                listing_id\n                listing_title\n                description\n                city\n                street\n                postal_code\n                price\n                user{\n                  user_id\n                  email\n                  username\n                }\n              }\n            }\n          `,\r\n            variables: { listing_id: this.id }\r\n        })\r\n            .valueChanges\r\n            .pipe(map(result => result.data.listings));\r\n    }\r\n}\r\nListingComponent.ɵfac = function ListingComponent_Factory(t) { return new (t || ListingComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Apollo), i0.ɵɵdirectiveInject(i1.ActivatedRoute)); };\r\nListingComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ListingComponent, selectors: [[\"app-listing\"]], decls: 2, vars: 3, consts: [[4, \"ngFor\", \"ngForOf\"], [1, \"card\", 2, \"width\", \"100%\", \"margin-top\", \"10px\"], [1, \"card-body\"], [1, \"card-link\", 3, \"href\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"]], template: function ListingComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, ListingComponent_div_0_Template, 22, 9, \"div\", 0);\r\n        i0.ɵɵpipe(1, \"async\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(1, 1, ctx.listings));\r\n    } }, directives: [i3.NgForOf], pipes: [i3.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0aW5nLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}